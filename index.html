<html>

<head>
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
</head>

<body>
  <a-scene thumbstick-logging >
    <!-- Asset Management -->
    <a-assets>
      <img id="spaceBg" crossorigin="anonymous" src="https://cdn.glitch.global/2023ddae-31f5-4ca3-9362-162b9c1dc5c2/spaceBackground.png?v=1647774931601">
      <img id="planet" crossorigin="anonymous" src="https://raw.githubusercontent.com/Dbald/Hyperspace-Jump/main/assets/img/tat.png">
      <a-asset-item id="fleet" type="model" response-type="arraybuffer"
        src="https://raw.githubusercontent.com/Dbald/Hyperspace-Jump/main/assets/Fleet_Model/rebel_fleet_anim_corevetteview.gltf">
      </a-asset-item>
    </a-assets>
    <!-- Camera -->
    <a-entity camera="" animation-mixer="clip: CameraAction.001" wasd-controls="" rotation="" look-controls="" aframe-injected="" data-aframe-inspector-original-camera="" position="-2.1085 5.90192 0"></a-entity>
    <!-- Setup -->
    <a-gltf-model src="#fleet" animation-mixer="clip: *;"></a-gltf-model>
    <a-sky id="bg" src="#spaceBg" animation="property: rotation; to: -360 -360 -360; loop: true; dur: 2000000; easing: linear"></a-sky>
    <a-entity id="lightRigPlanet" rotation="-4.839201537674932 -61.87428525397273 -1.9371703053373133"> 
      <a-entity light="color: #EEE; intensity: 1.5; angle: 57.24; type: spot" position="-21.56304 1.23138 -10.9419"></a-entity>
    </a-entity>
    <a-entity id="lightRigShips" rotation="6.640580845566241 61.77745538659562 177.09323306580563" position="300 -90 0"> 
      <a-entity light="color: #EEE; intensity: 1.5; angle: 57.24; type: spot" position="-21.56304 1.23138 -10.9419"></a-entity>
    </a-entity>
    <a-sphere radius="10" src="#planet" geometry="" position="500 -100 0.06302" scale="20 20 20" animation="property: rotation; to: 0 360 0; loop: true; dur: 300000; easing: linear"></a-sphere>
    <!-- Meta Quest 2 -->
    <!-- Controllers -->
    <a-entity oculus-touch-controls="hand: left"></a-entity>
    <a-entity oculus-touch-controls="hand: right"></a-entity>

  </a-scene>
  <script>
      AFRAME.registerComponent('thumbstick-logging',{
  init: function () {
    this.el.addEventListener('thumbstickmoved', this.logThumbstick);
  },
  logThumbstick: function (evt) {
    if (evt.detail.y > 0.95) { console.log("DOWN"); }
    if (evt.detail.y < -0.95) { console.log("UP"); }
    if (evt.detail.x < -0.95) { console.log("LEFT"); }
    if (evt.detail.x > 0.95) { console.log("RIGHT"); }
  }
});
    </script>
</body>

</html>